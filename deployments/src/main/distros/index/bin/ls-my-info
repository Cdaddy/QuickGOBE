#! /bin/bash

## This script lists information about the QuickGO services associated with this build environment

VALID_USERS=("uni_qgo" "eddturner");

# source required scripts
if ! source "common/common" || ! source "common/common.variables" ; then
    echo "Required properties files were not found. Please make sure you're in the right directory";
    exit 1;
fi

# ------------------------ SHOW ASSOCIATED VM PURPOSE ------------------------
printDivider "Server statuses";

for core in $CORES; do
    prettyEcho "1" "Core:   $core"
    profilesForCore "$core"
    for profile in $CORE_PROFILES; do
        prettyEcho "2" "Profile: $profile"
        vmsForProfile "$core" "$profile"
        for vm in $PROFILE_VMS; do
            prettyEcho "3" "VM: $(extractVMFromURL $vm)"
            printServerStatus "4" "$vm"
        done
    done
    echo
done

echo "";
printReleaseBaseDirContents;

echo "";
prettyEcho "\(If these settings are wrong, please update $BASE_DIR/index.properties or use the scripts in this
directory to achieve what you need.\)";
