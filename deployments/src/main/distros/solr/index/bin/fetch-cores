#! /bin/bash

#fail on error
set -e

VALID_USERS=("uni_qgo" "rantunes");

if [ $# -ne 3 ]; then
    echo "${0} expects 1 argument: 1.) profile"
    exit 1;
else
   requestedProfile=$1;
#TODO: need the core being updated
fi

# source required scripts
if ! source "../../../common/common" || ! source "../../../common/common.variables" || ! source "index.variables";
then
    echo "Required properties files were not found. Please make sure you're in the right directory";
    exit 1;
fi

cd "$QUICKGO_REPO_DIR"

git fetch
git checkout "$QUICKGO_BRANCH"
git pull

#check if zookeeper is up
#../../solr/zookeeper status

#call the schema manager script and upload the core configuration to Zookeeper
#./schema-manager